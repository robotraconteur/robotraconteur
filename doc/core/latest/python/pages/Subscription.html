
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Subscription &#8212; Robot Raconteur Python  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Node Setup" href="NodeSetup.html" />
    <link rel="prev" title="WireMember" href="WireMember.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="subscription">
<h1>Subscription<a class="headerlink" href="#subscription" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt id="RobotRaconteur.ServiceInfo2Subscription">
<em class="property">class </em><code class="sig-prename descclassname">RobotRaconteur.</code><code class="sig-name descname">ServiceInfo2Subscription</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subscription</span></em><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.ServiceInfo2Subscription" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscription for information about detected services</p>
<p>Created using RobotRaconteurNode.SubscribeServiceInfo2()</p>
<p>The ServiceInfo2Subscription class is used to track services with a specific service type as they are
detected on the local network and when they are lost. The currently detected services can also
be retrieved. The service information is returned using the ServiceInfo2 structure.</p>
<dl class="py method">
<dt id="RobotRaconteur.ServiceInfo2Subscription.Close">
<code class="sig-name descname">Close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.ServiceInfo2Subscription.Close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the subscription</p>
<p>Closes the subscription. Subscriptions are automatically closed when the node is shut down.</p>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.ServiceInfo2Subscription.GetDetectedServiceInfo2">
<code class="sig-name descname">GetDetectedServiceInfo2</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.ServiceInfo2Subscription.GetDetectedServiceInfo2" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dict of detected services.</p>
<p>The returned dict contains the detected nodes as ServiceInfo2. The dict
is keyed with ServiceSubscriptionClientID.</p>
<p>This function does not block.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The detected services.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Dict[RobotRaconteur.ServiceSubscriptionClientID,<a class="reference internal" href="DataTypes.html#RobotRaconteur.ServiceInfo2" title="RobotRaconteur.ServiceInfo2">ServiceInfo2</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.ServiceInfo2Subscription.ServiceDetected">
<em class="property">property </em><code class="sig-name descname">ServiceDetected</code><a class="headerlink" href="#RobotRaconteur.ServiceInfo2Subscription.ServiceDetected" title="Permalink to this definition">¶</a></dt>
<dd><p>Event hook for service detected events. Use to add handlers to be called
when a service is detected.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_handler</span><span class="p">(</span><span class="n">sub</span><span class="p">,</span> <span class="n">subscription_id</span><span class="p">,</span> <span class="n">service_info2</span><span class="p">):</span>
   <span class="c1"># Process detected service</span>
   <span class="k">pass</span>              

<span class="n">my_serviceinfo2_sub</span><span class="o">.</span><span class="n">ServiceDetected</span> <span class="o">+=</span> <span class="n">my_handler</span>
</pre></div>
</div>
<p>Handler must have signature <code class="docutils literal notranslate"><span class="pre">Callable[[RobotRaconteur.ServiceInfo2Subscription,RobotRaconteur.ServiceSubscriptionClientID,RobotRaconteur.ServiceInfo2],None]</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="DataTypes.html#RobotRaconteur.EventHook" title="RobotRaconteur.EventHook">RobotRaconteur.EventHook</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.ServiceInfo2Subscription.ServiceLost">
<em class="property">property </em><code class="sig-name descname">ServiceLost</code><a class="headerlink" href="#RobotRaconteur.ServiceInfo2Subscription.ServiceLost" title="Permalink to this definition">¶</a></dt>
<dd><p>Event hook for service lost events. Use to add handlers to be called
when a service is lost.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_handler</span><span class="p">(</span><span class="n">sub</span><span class="p">,</span> <span class="n">subscription_id</span><span class="p">,</span> <span class="n">service_info2</span><span class="p">):</span>
   <span class="c1"># Process lost service</span>
   <span class="k">pass</span>              

<span class="n">my_serviceinfo2_sub</span><span class="o">.</span><span class="n">ServiceLost</span> <span class="o">+=</span> <span class="n">my_handler</span>
</pre></div>
</div>
<p>Handler must have signature <code class="docutils literal notranslate"><span class="pre">Callable[[RobotRaconteur.ServiceInfo2Subscription,RobotRaconteur.ServiceSubscriptionClientID,RobotRaconteur.ServiceInfo2],None]</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="DataTypes.html#RobotRaconteur.EventHook" title="RobotRaconteur.EventHook">RobotRaconteur.EventHook</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="RobotRaconteur.ServiceSubscriptionFilter">
<em class="property">class </em><code class="sig-prename descclassname">RobotRaconteur.</code><code class="sig-name descname">ServiceSubscriptionFilter</code><a class="headerlink" href="#RobotRaconteur.ServiceSubscriptionFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscription filter</p>
<p>The subscription filter is used with RobotRaconteurNode::SubscribeServiceByType() and 
RobotRaconteurNode.SubscribeServiceInfo2() to decide which services should
be connected. Detected services that match the service type are checked against
the filter before connecting.</p>
<dl class="py attribute">
<dt id="RobotRaconteur.ServiceSubscriptionFilter.MaxConnections">
<code class="sig-name descname">MaxConnections</code><a class="headerlink" href="#RobotRaconteur.ServiceSubscriptionFilter.MaxConnections" title="Permalink to this definition">¶</a></dt>
<dd><p>(int) The maximum number of connections the subscription will create. Zero means unlimited connections.</p>
</dd></dl>

<dl class="py attribute">
<dt id="RobotRaconteur.ServiceSubscriptionFilter.Nodes">
<code class="sig-name descname">Nodes</code><a class="headerlink" href="#RobotRaconteur.ServiceSubscriptionFilter.Nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>(List[RobotRaconteurServiceSubscriptionFilterNode]) List of nodes that should be connected. Empty means match any node.</p>
</dd></dl>

<dl class="py attribute">
<dt id="RobotRaconteur.ServiceSubscriptionFilter.Predicate">
<code class="sig-name descname">Predicate</code><a class="headerlink" href="#RobotRaconteur.ServiceSubscriptionFilter.Predicate" title="Permalink to this definition">¶</a></dt>
<dd><p>(Callable[[RobotRaconteur.ServiceInfo2],bool]) A user specified predicate function. If nullptr, the predicate is not checked.</p>
</dd></dl>

<dl class="py attribute">
<dt id="RobotRaconteur.ServiceSubscriptionFilter.ServiceNames">
<code class="sig-name descname">ServiceNames</code><a class="headerlink" href="#RobotRaconteur.ServiceSubscriptionFilter.ServiceNames" title="Permalink to this definition">¶</a></dt>
<dd><p>(List[str])  List of service names that should be connected. Empty means match any service name.</p>
</dd></dl>

<dl class="py attribute">
<dt id="RobotRaconteur.ServiceSubscriptionFilter.TransportSchemes">
<code class="sig-name descname">TransportSchemes</code><a class="headerlink" href="#RobotRaconteur.ServiceSubscriptionFilter.TransportSchemes" title="Permalink to this definition">¶</a></dt>
<dd><p>(List[str]) List of transport schemes. Empty means match any transport scheme.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="RobotRaconteur.ServiceSubscriptionFilterNode">
<em class="property">class </em><code class="sig-prename descclassname">RobotRaconteur.</code><code class="sig-name descname">ServiceSubscriptionFilterNode</code><a class="headerlink" href="#RobotRaconteur.ServiceSubscriptionFilterNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscription filter node information</p>
<p>Specify a node by NodeID and/or NodeName. Also allows specifying
username and password.</p>
<p>When using username and credentials, secure transports and specified NodeID should
be used. Using username and credentials without a transport that verifies the
NodeID could result in credentials being leaked.</p>
<dl class="py attribute">
<dt id="RobotRaconteur.ServiceSubscriptionFilterNode.Credentials">
<code class="sig-name descname">Credentials</code><a class="headerlink" href="#RobotRaconteur.ServiceSubscriptionFilterNode.Credentials" title="Permalink to this definition">¶</a></dt>
<dd><p>(Dict[str,Any]) The credentials to use for authentication. Should only be used with secure transports and verified NodeID</p>
</dd></dl>

<dl class="py attribute">
<dt id="RobotRaconteur.ServiceSubscriptionFilterNode.NodeID">
<code class="sig-name descname">NodeID</code><a class="headerlink" href="#RobotRaconteur.ServiceSubscriptionFilterNode.NodeID" title="Permalink to this definition">¶</a></dt>
<dd><p>(RobotRaconteur.NodeID) The NodeID to match. All zero NodeID will match any NodeID.</p>
</dd></dl>

<dl class="py attribute">
<dt id="RobotRaconteur.ServiceSubscriptionFilterNode.NodeName">
<code class="sig-name descname">NodeName</code><a class="headerlink" href="#RobotRaconteur.ServiceSubscriptionFilterNode.NodeName" title="Permalink to this definition">¶</a></dt>
<dd><p>(str) The NodeName to match. Emtpy NodeName will match any NodeName.</p>
</dd></dl>

<dl class="py attribute">
<dt id="RobotRaconteur.ServiceSubscriptionFilterNode.Username">
<code class="sig-name descname">Username</code><a class="headerlink" href="#RobotRaconteur.ServiceSubscriptionFilterNode.Username" title="Permalink to this definition">¶</a></dt>
<dd><p>(str) The username to use for authentication. Should only be used with secure transports and verified NodeID</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="RobotRaconteur.WireSubscription">
<em class="property">class </em><code class="sig-prename descclassname">RobotRaconteur.</code><code class="sig-name descname">WireSubscription</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subscription</span></em><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.WireSubscription" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscription for wire members that aggregates the values from client wire connections</p>
<p>Wire subscriptions are created using the ServiceSubscription.SubscribeWire() function. This function takes the
type of the wire value, the name of the wire member, and an optional service path of the service
object that owns the wire member.</p>
<p>Wire subscriptions aggregate the InValue from all active wire connections. When a client connects,
the wire subscriptions will automatically create wire connections to the wire member specified
when the WireSubscription was created using ServiceSubscription.SubscribeWire(). The InValue of
all the active wire connections are collected, and the most recent one is used as the current InValue
of the wire subscription. The current value, the timespec, and the wire connection can be accessed
using GetInValue() or TryGetInValue().</p>
<p>The lifespan of the InValue can be configured using SetInValueLifespan(). It is recommended that
the lifespan be configured, so that the value will expire if the subscription stops receiving
fresh in values.</p>
<p>The wire subscription can also be used to set the OutValue of all active wire connections. This behaves
similar to a “reverse broadcaster”, sending the same value to all connected services.</p>
<dl class="py method">
<dt id="RobotRaconteur.WireSubscription.ActiveWireConnectionCount">
<em class="property">property </em><code class="sig-name descname">ActiveWireConnectionCount</code><a class="headerlink" href="#RobotRaconteur.WireSubscription.ActiveWireConnectionCount" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of wire connections currently connected</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.WireSubscription.Close">
<code class="sig-name descname">Close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.WireSubscription.Close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the wire subscription</p>
<p>Wire subscriptions are automatically closed when the parent ServiceSubscription is closed
or when the node is shut down.</p>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.WireSubscription.IgnoreInValue">
<em class="property">property </em><code class="sig-name descname">IgnoreInValue</code><a class="headerlink" href="#RobotRaconteur.WireSubscription.IgnoreInValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Set if InValue should be ignored</p>
<p>See WireConnection.IgnoreInValue</p>
<p>If true, InValue will be ignored for all wire connections</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.WireSubscription.InValue">
<em class="property">property </em><code class="sig-name descname">InValue</code><a class="headerlink" href="#RobotRaconteur.WireSubscription.InValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current InValue</p>
<p>Throws ValueNotSetException if no valid value is available</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The current InValue</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.WireSubscription.InValueLifespan">
<em class="property">property </em><code class="sig-name descname">InValueLifespan</code><a class="headerlink" href="#RobotRaconteur.WireSubscription.InValueLifespan" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the InValue lifespan in seconds</p>
<p>Set the lifespan of InValue in seconds. The value will expire after
the specified lifespan, becoming invalid. Use -1 for infinite lifespan.</p>
<p>See also WireConnection.InValueLifespan</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.WireSubscription.InValueWithTimeSpec">
<em class="property">property </em><code class="sig-name descname">InValueWithTimeSpec</code><a class="headerlink" href="#RobotRaconteur.WireSubscription.InValueWithTimeSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current InValue and TimeSpec</p>
<p>Throws ValueNotSetException if no valid value is available</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The current InValue and TimeSpec</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Tuple[T,RobotRaconteur.TimeSpec]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.WireSubscription.SetOutValueAll">
<code class="sig-name descname">SetOutValueAll</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.WireSubscription.SetOutValueAll" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the OutValue for all active wire connections</p>
<p>Behaves like a “reverse broadcaster”. Calls WireConnection.OutValue
for all connected wire connections.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> – The value to send</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.WireSubscription.TryGetInValue">
<code class="sig-name descname">TryGetInValue</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.WireSubscription.TryGetInValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Try getting the current InValue and metadata</p>
<p>Same as GetInValue(), but returns a bool for success or failure instead of throwing
an exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Success and value (if successful)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Tuple[bool,T]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.WireSubscription.WaitInValueValid">
<code class="sig-name descname">WaitInValueValid</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeout</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.WireSubscription.WaitInValueValid" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for a valid InValue to be received from a client</p>
<p>Blocks the current thread until value is received or timeout</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>timeout</strong> (<em>float</em>) – The timeout in seconds</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if value was received, otherwise False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.WireSubscription.WireValueChanged">
<em class="property">property </em><code class="sig-name descname">WireValueChanged</code><a class="headerlink" href="#RobotRaconteur.WireSubscription.WireValueChanged" title="Permalink to this definition">¶</a></dt>
<dd><p>Event hook for wire value change. Use to add handlers to be called
when the InValue changes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_handler</span><span class="p">(</span><span class="n">sub</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">ts</span><span class="p">):</span>
   <span class="c1"># Handle new value</span>
   <span class="k">pass</span>              

<span class="n">my_wire_csub</span><span class="o">.</span><span class="n">WireValueChanged</span> <span class="o">+=</span> <span class="n">my_handler</span>
</pre></div>
</div>
<p>Handler must have signature <code class="docutils literal notranslate"><span class="pre">Callable[[RobotRaconteur.WireSubscription,T,RobotRaconteur.TimeSpec],None]</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="DataTypes.html#RobotRaconteur.EventHook" title="RobotRaconteur.EventHook">RobotRaconteur.EventHook</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="RobotRaconteur.PipeSubscription">
<em class="property">class </em><code class="sig-prename descclassname">RobotRaconteur.</code><code class="sig-name descname">PipeSubscription</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">subscription</span></em><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.PipeSubscription" title="Permalink to this definition">¶</a></dt>
<dd><p>Subscription for pipe members that aggregates incoming packets from client pipe endpoints</p>
<p>Pipe subscriptions are created using the ServiceSubscription.SubscribePipe() function. This function takes the
the type of the pipe packets, the name of the pipe member, and an optional service path of the service
object that owns the pipe member.</p>
<p>Pipe subscriptions collect all incoming packets from connect pipe endpoints. When a client connects,
the pipe subscription will automatically connect a pipe endpoint the pipe endpoint specified when
the PipeSubscription was created using ServiceSubscription::SubscribePipe(). The packets received
from each of the collected pipes are collected and placed into a common receive queue. This queue
is read using ReceivePacket(), TryReceivePacket(), or TryReceivePacketWait(). The number of packets
available to receive can be checked using Available().</p>
<p>Pipe subscriptions can also be used to send packets to all connected pipe endpoints. This is done
with the AsyncSendPacketAll() function. This function behaves somewhat like a “reverse broadcaster”,
sending the packets to all connected services.</p>
<p>If the pipe subscription is being used to send packets but not receive them, the SetIgnoreInValue()
should be set to true to prevent packets from queueing.</p>
<dl class="py method">
<dt id="RobotRaconteur.PipeSubscription.ActivePipeEndpointCount">
<em class="property">property </em><code class="sig-name descname">ActivePipeEndpointCount</code><a class="headerlink" href="#RobotRaconteur.PipeSubscription.ActivePipeEndpointCount" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of pipe endpoints currently connected</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.PipeSubscription.AsyncSendPacketAll">
<code class="sig-name descname">AsyncSendPacketAll</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">packet</span></em><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.PipeSubscription.AsyncSendPacketAll" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a packet to all connected pipe endpoints</p>
<p>Calls AsyncSendPacket() on all connected pipe endpoints with the specified value.
Returns immediately, not waiting for transmission to complete.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>packet</strong> – The packet to send</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.PipeSubscription.Available">
<em class="property">property </em><code class="sig-name descname">Available</code><a class="headerlink" href="#RobotRaconteur.PipeSubscription.Available" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of packets available to receive</p>
<p>Use ReceivePacket(), TryReceivePacket(), or TryReceivePacketWait() to receive the packet</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.PipeSubscription.Close">
<code class="sig-name descname">Close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.PipeSubscription.Close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the pipe subscription</p>
<p>Pipe subscriptions are automatically closed when the parent ServiceSubscription is closed
or when the node is shut down.</p>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.PipeSubscription.PipePacketReceived">
<em class="property">property </em><code class="sig-name descname">PipePacketReceived</code><a class="headerlink" href="#RobotRaconteur.PipeSubscription.PipePacketReceived" title="Permalink to this definition">¶</a></dt>
<dd><p>Event hook for packet received. Use to add handlers to be called
when the subscription receives a new packet.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">my_handler</span><span class="p">(</span><span class="n">pipe_sub</span><span class="p">):</span>
   <span class="k">while</span> <span class="n">pipe_sub</span><span class="o">.</span><span class="n">Available</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
       <span class="n">packet</span> <span class="o">=</span> <span class="n">pipe_sub</span><span class="o">.</span><span class="n">ReceivePacket</span><span class="p">()</span>
       <span class="c1"># Handle new packet</span>
       <span class="k">pass</span>              

<span class="n">my_pipe_sub</span><span class="o">.</span><span class="n">PipePacketReceived</span><span class="o">+=</span> <span class="n">my_handler</span>
</pre></div>
</div>
<p>Handler must have signature <code class="docutils literal notranslate"><span class="pre">Callable[[RobotRaconteur.PipeSubscription],None]</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="DataTypes.html#RobotRaconteur.EventHook" title="RobotRaconteur.EventHook">RobotRaconteur.EventHook</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.PipeSubscription.ReceivePacket">
<code class="sig-name descname">ReceivePacket</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.PipeSubscription.ReceivePacket" title="Permalink to this definition">¶</a></dt>
<dd><p>Dequeue a packet from the receive queue</p>
<p>If the receive queue is empty, an InvalidOperationException() is thrown</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The dequeued packet</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.PipeSubscription.TryReceivePacket">
<code class="sig-name descname">TryReceivePacket</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.PipeSubscription.TryReceivePacket" title="Permalink to this definition">¶</a></dt>
<dd><p>Try dequeuing a packet from the receive queue</p>
<p>Same as ReceivePacket(), but returns a bool for success or failure instead of throwing
an exception</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Success and packet (if successful)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Tuple[bool,T]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="RobotRaconteur.PipeSubscription.TryReceivePacketWait">
<code class="sig-name descname">TryReceivePacketWait</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">timeout</span><span class="o">=</span><span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">peek</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#RobotRaconteur.PipeSubscription.TryReceivePacketWait" title="Permalink to this definition">¶</a></dt>
<dd><p>Try dequeuing a packet from the receive queue, optionally waiting or peeking the packet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timeout</strong> (<em>float</em>) – The time to wait for a packet to be received in seconds if the queue is empty, or -1 to wait forever</p></li>
<li><p><strong>peek</strong> (<em>bool</em>) – If True, the packet is returned, but not dequeued. If False, the packet is dequeued</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Success and packet (if successful)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Tuple[bool,T]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Robot Raconteur Python</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Constants.html">Constants</a></li>
<li class="toctree-l1"><a class="reference internal" href="RobotRaconteurNode.html">RobotRaconteurNode</a></li>
<li class="toctree-l1"><a class="reference internal" href="DataTypes.html">Misc Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="PipeMember.html">PipeMember</a></li>
<li class="toctree-l1"><a class="reference internal" href="WireMember.html">WireMember</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Subscription</a></li>
<li class="toctree-l1"><a class="reference internal" href="NodeSetup.html">Node Setup</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="WireMember.html" title="previous chapter">WireMember</a></li>
      <li>Next: <a href="NodeSetup.html" title="next chapter">Node Setup</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Wason Technology, LLC.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.2.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/pages/Subscription.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>