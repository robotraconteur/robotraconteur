<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Robot Raconteur Core C++ Library: RobotRaconteur::IOContextThreadPool_AsyncResultAdapter&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-icon.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Robot Raconteur Core C++ Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>RobotRaconteur</b></li><li class="navelem"><a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html">IOContextThreadPool_AsyncResultAdapter</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RobotRaconteur::IOContextThreadPool_AsyncResultAdapter&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Adapter for asynchronous operations for use with <a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool.html" title="Thread pool for use with an external boost::asio::io_context and thread pool.">IOContextThreadPool</a>.  
 <a href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad9894e7f7bacc09413dd2923ccbbd11d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html#ad9894e7f7bacc09413dd2923ccbbd11d">IOContextThreadPool_AsyncResultAdapter</a> (boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_robot_raconteur_node.html">RobotRaconteurNode</a> &gt; &amp;node, boost::asio::io_context &amp;io_context)</td></tr>
<tr class="memdesc:ad9894e7f7bacc09413dd2923ccbbd11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an <a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html" title="Adapter for asynchronous operations for use with IOContextThreadPool.">IOContextThreadPool_AsyncResultAdapter</a>.  <a href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html#ad9894e7f7bacc09413dd2923ccbbd11d">More...</a><br /></td></tr>
<tr class="separator:ad9894e7f7bacc09413dd2923ccbbd11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afadaa06239dc40fdb0d214a78c4767fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html#afadaa06239dc40fdb0d214a78c4767fd">IOContextThreadPool_AsyncResultAdapter</a> (boost::asio::io_context &amp;io_context)</td></tr>
<tr class="memdesc:afadaa06239dc40fdb0d214a78c4767fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct an <a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html" title="Adapter for asynchronous operations for use with IOContextThreadPool.">IOContextThreadPool_AsyncResultAdapter</a> for the singleton <a class="el" href="class_robot_raconteur_1_1_robot_raconteur_node.html" title="The central node implementation.">RobotRaconteurNode</a>.  <a href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html#afadaa06239dc40fdb0d214a78c4767fd">More...</a><br /></td></tr>
<tr class="separator:afadaa06239dc40fdb0d214a78c4767fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f611a5a1ba73df8f72cb0495ce3367"><td class="memItemLeft" align="right" valign="top">result_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html#ae9f611a5a1ba73df8f72cb0495ce3367">GetResult</a> ()</td></tr>
<tr class="memdesc:ae9f611a5a1ba73df8f72cb0495ce3367"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the result of the asynchronous operation.  <a href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html#ae9f611a5a1ba73df8f72cb0495ce3367">More...</a><br /></td></tr>
<tr class="separator:ae9f611a5a1ba73df8f72cb0495ce3367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdf304dbb29e5772f01ce43b243dcde6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html#acdf304dbb29e5772f01ce43b243dcde6">PollResult</a> (result_type &amp;ret, boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_robot_raconteur_exception.html">RobotRaconteurException</a> &gt; &amp;exp)</td></tr>
<tr class="memdesc:acdf304dbb29e5772f01ce43b243dcde6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polls for a result, nonblocking.  <a href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html#acdf304dbb29e5772f01ce43b243dcde6">More...</a><br /></td></tr>
<tr class="separator:acdf304dbb29e5772f01ce43b243dcde6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class RobotRaconteur::IOContextThreadPool_AsyncResultAdapter&lt; T &gt;</h3>

<p>Adapter for asynchronous operations for use with <a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool.html" title="Thread pool for use with an external boost::asio::io_context and thread pool.">IOContextThreadPool</a>. </p>
<p>See threading for more information.</p>
<p>Asynchronous functions require a handler function be specified to be invoked when the operation is complete. The <a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html" title="Adapter for asynchronous operations for use with IOContextThreadPool.">IOContextThreadPool_AsyncResultAdapter</a> (result adapter) is a utility class for single threaded applications to simplify the design of calling asynchronous functions. The result adapter is passed the current boost::asio::io_context, and the asynchronous function is invoked with the result adapter passed as the handler. Next, <a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html#ae9f611a5a1ba73df8f72cb0495ce3367" title="Get the result of the asynchronous operation.">GetResult()</a> is called. This function will block until the result is available, or an error occurs. <a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html#ae9f611a5a1ba73df8f72cb0495ce3367" title="Get the result of the asynchronous operation.">GetResult()</a> will repeatedly call boost::asio::io_context::run_one() while waiting for the result to be ready. This will run the thread pool, allowing events to be dispatched while waiting for the result. This design removes the need for chained callbacks.</p>
<p><b>Must only be used in single-threaded applications</b></p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The return type, or void if no return </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad9894e7f7bacc09413dd2923ccbbd11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9894e7f7bacc09413dd2923ccbbd11d">&#9670;&nbsp;</a></span>IOContextThreadPool_AsyncResultAdapter() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html">RobotRaconteur::IOContextThreadPool_AsyncResultAdapter</a>&lt; T &gt;::<a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html">IOContextThreadPool_AsyncResultAdapter</a> </td>
          <td>(</td>
          <td class="paramtype">boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_robot_raconteur_node.html">RobotRaconteurNode</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::asio::io_context &amp;&#160;</td>
          <td class="paramname"><em>io_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct an <a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html" title="Adapter for asynchronous operations for use with IOContextThreadPool.">IOContextThreadPool_AsyncResultAdapter</a>. </p>
<p>Should be constructed on the stack</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>The node that will use the adapter </td></tr>
    <tr><td class="paramname">io_context</td><td>The single threaded IO Context </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="afadaa06239dc40fdb0d214a78c4767fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afadaa06239dc40fdb0d214a78c4767fd">&#9670;&nbsp;</a></span>IOContextThreadPool_AsyncResultAdapter() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html">RobotRaconteur::IOContextThreadPool_AsyncResultAdapter</a>&lt; T &gt;::<a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html">IOContextThreadPool_AsyncResultAdapter</a> </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_context &amp;&#160;</td>
          <td class="paramname"><em>io_context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct an <a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html" title="Adapter for asynchronous operations for use with IOContextThreadPool.">IOContextThreadPool_AsyncResultAdapter</a> for the singleton <a class="el" href="class_robot_raconteur_1_1_robot_raconteur_node.html" title="The central node implementation.">RobotRaconteurNode</a>. </p>
<p>Should be constructed on the stack</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">io_context</td><td>The single threaded IO Context </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae9f611a5a1ba73df8f72cb0495ce3367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f611a5a1ba73df8f72cb0495ce3367">&#9670;&nbsp;</a></span>GetResult()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">result_type <a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html">RobotRaconteur::IOContextThreadPool_AsyncResultAdapter</a>&lt; T &gt;::GetResult </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the result of the asynchronous operation. </p>
<p>Will throw an exception if the operation fails, or the operation returns an exception.</p>
<p>Will block until the result is available or an error occurs. boost::asio::io_context::run() is called while waiting to continue dispatching events.</p>
<dl class="section return"><dt>Returns</dt><dd>result_type The result of the operation </dd></dl>

</div>
</div>
<a id="acdf304dbb29e5772f01ce43b243dcde6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdf304dbb29e5772f01ce43b243dcde6">&#9670;&nbsp;</a></span>PollResult()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html">RobotRaconteur::IOContextThreadPool_AsyncResultAdapter</a>&lt; T &gt;::PollResult </td>
          <td>(</td>
          <td class="paramtype">result_type &amp;&#160;</td>
          <td class="paramname"><em>ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_robot_raconteur_exception.html">RobotRaconteurException</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>exp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Polls for a result, nonblocking. </p>
<p>Nonblocking poll operation to check if results are ready, and retrieve the result. Does not call any functions in boost::asio::io_context. User must call boost::asio::io_context::poll() to dispatch waiting events. <a class="el" href="class_robot_raconteur_1_1_i_o_context_thread_pool___async_result_adapter.html#acdf304dbb29e5772f01ce43b243dcde6" title="Polls for a result, nonblocking.">PollResult()</a> will not throw an exception if an error occurs, instead it will fill the exp reference parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ret</td><td>[out] The result of the operation, valid if return is true </td></tr>
    <tr><td class="paramname">exp</td><td>[out] The exception returned by operation, or NULL if no exception, valid if return is true </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true The result is ready, ret and exp are valid </dd>
<dd>
false The result is not ready, ret and exp are invalid </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/wasonj/Documents/RobotRaconteur2/robotraconteur/RobotRaconteurCore/include/RobotRaconteur/<a class="el" href="_thread_pool_8h_source.html">ThreadPool.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
