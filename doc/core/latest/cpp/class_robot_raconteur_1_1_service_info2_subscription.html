<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Robot Raconteur Core C++ Library: RobotRaconteur::ServiceInfo2Subscription Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-icon.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Robot Raconteur Core C++ Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>RobotRaconteur</b></li><li class="navelem"><a class="el" href="class_robot_raconteur_1_1_service_info2_subscription.html">ServiceInfo2Subscription</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_robot_raconteur_1_1_service_info2_subscription-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RobotRaconteur::ServiceInfo2Subscription Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Subscription for information about detected services.  
 <a href="class_robot_raconteur_1_1_service_info2_subscription.html#details">More...</a></p>

<p>Inherits RobotRaconteur::IServiceSubscription, enable_shared_from_this&lt; ServiceInfo2Subscription &gt;, and noncopyable.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab95266027b9205cca9a446f3fc6b8995"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="class_robot_raconteur_1_1_service_subscription_client_i_d.html">ServiceSubscriptionClientID</a>, <a class="el" href="class_robot_raconteur_1_1_service_info2.html">ServiceInfo2</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robot_raconteur_1_1_service_info2_subscription.html#ab95266027b9205cca9a446f3fc6b8995">GetDetectedServiceInfo2</a> ()</td></tr>
<tr class="memdesc:ab95266027b9205cca9a446f3fc6b8995"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a map of detected services.  <a href="class_robot_raconteur_1_1_service_info2_subscription.html#ab95266027b9205cca9a446f3fc6b8995">More...</a><br /></td></tr>
<tr class="separator:ab95266027b9205cca9a446f3fc6b8995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf73a584faeb88c49509947fd4cc30d"><td class="memItemLeft" align="right" valign="top">event_connection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robot_raconteur_1_1_service_info2_subscription.html#abaf73a584faeb88c49509947fd4cc30d">AddServiceDetectedListener</a> (boost::function&lt; void(boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_service_info2_subscription.html">ServiceInfo2Subscription</a> &gt;, const <a class="el" href="class_robot_raconteur_1_1_service_subscription_client_i_d.html">ServiceSubscriptionClientID</a> &amp;, const <a class="el" href="class_robot_raconteur_1_1_service_info2.html">ServiceInfo2</a> &amp;)&gt; handler)</td></tr>
<tr class="memdesc:abaf73a584faeb88c49509947fd4cc30d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a listener callback that is invoked when a service is detected.  <a href="class_robot_raconteur_1_1_service_info2_subscription.html#abaf73a584faeb88c49509947fd4cc30d">More...</a><br /></td></tr>
<tr class="separator:abaf73a584faeb88c49509947fd4cc30d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2dfaf086f6c8f8cee0ad0e4e179f39e"><td class="memItemLeft" align="right" valign="top">event_connection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robot_raconteur_1_1_service_info2_subscription.html#ad2dfaf086f6c8f8cee0ad0e4e179f39e">AddServiceLostListener</a> (boost::function&lt; void(boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_service_info2_subscription.html">ServiceInfo2Subscription</a> &gt;, const <a class="el" href="class_robot_raconteur_1_1_service_subscription_client_i_d.html">ServiceSubscriptionClientID</a> &amp;, const <a class="el" href="class_robot_raconteur_1_1_service_info2.html">ServiceInfo2</a> &amp;)&gt; handler)</td></tr>
<tr class="memdesc:ad2dfaf086f6c8f8cee0ad0e4e179f39e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a listener callback that is invoked when a service is lost.  <a href="class_robot_raconteur_1_1_service_info2_subscription.html#ad2dfaf086f6c8f8cee0ad0e4e179f39e">More...</a><br /></td></tr>
<tr class="separator:ad2dfaf086f6c8f8cee0ad0e4e179f39e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa42448187551b78f6cdbca03c5ece350"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robot_raconteur_1_1_service_info2_subscription.html#aa42448187551b78f6cdbca03c5ece350">Close</a> ()</td></tr>
<tr class="memdesc:aa42448187551b78f6cdbca03c5ece350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the subscription.  <a href="class_robot_raconteur_1_1_service_info2_subscription.html#aa42448187551b78f6cdbca03c5ece350">More...</a><br /></td></tr>
<tr class="separator:aa42448187551b78f6cdbca03c5ece350"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Subscription for information about detected services. </p>
<p>Created using <a class="el" href="class_robot_raconteur_1_1_robot_raconteur_node.html#a9b8dfa95723e02f603e5583a96ff11b4" title="Subscribe to listen for available services information.">RobotRaconteurNode::SubscribeServiceInfo2()</a></p>
<p>The <a class="el" href="class_robot_raconteur_1_1_service_info2_subscription.html" title="Subscription for information about detected services.">ServiceInfo2Subscription</a> class is used to track services with a specific service type as they are detected on the local network and when they are lost. The currently detected services can also be retrieved. The service information is returned using the <a class="el" href="class_robot_raconteur_1_1_service_info2.html" title="Contains information about a service found using discovery.">ServiceInfo2</a> structure. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="abaf73a584faeb88c49509947fd4cc30d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaf73a584faeb88c49509947fd4cc30d">&#9670;&nbsp;</a></span>AddServiceDetectedListener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">event_connection RobotRaconteur::ServiceInfo2Subscription::AddServiceDetectedListener </td>
          <td>(</td>
          <td class="paramtype">boost::function&lt; void(boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_service_info2_subscription.html">ServiceInfo2Subscription</a> &gt;, const <a class="el" href="class_robot_raconteur_1_1_service_subscription_client_i_d.html">ServiceSubscriptionClientID</a> &amp;, const <a class="el" href="class_robot_raconteur_1_1_service_info2.html">ServiceInfo2</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a listener callback that is invoked when a service is detected. </p>
<p>The callback should have the signature:</p>
<p>void cb(ServiceInfo2SubscriptionPtr subscription, const ServiceSubscriptionClientID&amp; client_id, const ServiceInfo2&amp; service_info)</p>
<p>The returned event_connection can be used to modify or close the Boost.Signals2 connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>The callback function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>event_connection The Boost.Signals2 connection </dd></dl>

</div>
</div>
<a id="ad2dfaf086f6c8f8cee0ad0e4e179f39e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2dfaf086f6c8f8cee0ad0e4e179f39e">&#9670;&nbsp;</a></span>AddServiceLostListener()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">event_connection RobotRaconteur::ServiceInfo2Subscription::AddServiceLostListener </td>
          <td>(</td>
          <td class="paramtype">boost::function&lt; void(boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_service_info2_subscription.html">ServiceInfo2Subscription</a> &gt;, const <a class="el" href="class_robot_raconteur_1_1_service_subscription_client_i_d.html">ServiceSubscriptionClientID</a> &amp;, const <a class="el" href="class_robot_raconteur_1_1_service_info2.html">ServiceInfo2</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a listener callback that is invoked when a service is lost. </p>
<p>The callback should have the signature:</p>
<p>void cb(ServiceInfo2SubscriptionPtr subscription, const ServiceSubscriptionClientID&amp; client_id, const ServiceInfo2&amp; service_info)</p>
<p>The returned event_connection can be used to modify or close the Boost.Signals2 connection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>The callback function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>event_connection The Boost.Signals2 connection </dd></dl>

</div>
</div>
<a id="aa42448187551b78f6cdbca03c5ece350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa42448187551b78f6cdbca03c5ece350">&#9670;&nbsp;</a></span>Close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void RobotRaconteur::ServiceInfo2Subscription::Close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close the subscription. </p>
<p>Closes the subscription. Subscriptions are automatically closed when the node is shut down. </p>

</div>
</div>
<a id="ab95266027b9205cca9a446f3fc6b8995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab95266027b9205cca9a446f3fc6b8995">&#9670;&nbsp;</a></span>GetDetectedServiceInfo2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="class_robot_raconteur_1_1_service_subscription_client_i_d.html">ServiceSubscriptionClientID</a>, <a class="el" href="class_robot_raconteur_1_1_service_info2.html">ServiceInfo2</a> &gt; RobotRaconteur::ServiceInfo2Subscription::GetDetectedServiceInfo2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a map of detected services. </p>
<p>The returned map contains the detected nodes as <a class="el" href="class_robot_raconteur_1_1_service_info2.html" title="Contains information about a service found using discovery.">ServiceInfo2</a>. The map is keyed with <a class="el" href="class_robot_raconteur_1_1_service_subscription_client_i_d.html" title="ClientID for use with ServiceSubscription.">ServiceSubscriptionClientID</a>.</p>
<p>This function does not block.</p>
<dl class="section return"><dt>Returns</dt><dd>std::map&lt;ServiceSubscriptionClientID, ServiceInfo2 &gt; The detected services. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/wasonj/Documents/RobotRaconteur2/robotraconteur/RobotRaconteurCore/include/RobotRaconteur/<a class="el" href="_subscription_8h_source.html">Subscription.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
