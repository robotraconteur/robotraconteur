<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Robot Raconteur Core C++ Library: RobotRaconteur::WireSubscription&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-icon.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Robot Raconteur Core C++ Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>RobotRaconteur</b></li><li class="navelem"><a class="el" href="class_robot_raconteur_1_1_wire_subscription.html">WireSubscription</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_robot_raconteur_1_1_wire_subscription-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RobotRaconteur::WireSubscription&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Subscription for wire members that aggregates the values from client wire connections.  
 <a href="class_robot_raconteur_1_1_wire_subscription.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a38d1dbd5da29724419a1aa354d1b4111"><td class="memItemLeft" align="right" valign="top">T&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robot_raconteur_1_1_wire_subscription.html#a38d1dbd5da29724419a1aa354d1b4111">GetInValue</a> (<a class="el" href="class_robot_raconteur_1_1_time_spec.html">TimeSpec</a> *time=NULL, typename boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_wire_connection.html">WireConnection</a>&lt; T &gt; &gt; *connection=NULL)</td></tr>
<tr class="memdesc:a38d1dbd5da29724419a1aa354d1b4111"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current InValue and metadata.  <a href="class_robot_raconteur_1_1_wire_subscription.html#a38d1dbd5da29724419a1aa354d1b4111">More...</a><br /></td></tr>
<tr class="separator:a38d1dbd5da29724419a1aa354d1b4111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f90535f23b580b2b928891b6b6eebf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robot_raconteur_1_1_wire_subscription.html#a20f90535f23b580b2b928891b6b6eebf">TryGetInValue</a> (T &amp;val, <a class="el" href="class_robot_raconteur_1_1_time_spec.html">TimeSpec</a> *time=NULL, typename boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_wire_connection.html">WireConnection</a>&lt; T &gt; &gt; *connection=NULL)</td></tr>
<tr class="memdesc:a20f90535f23b580b2b928891b6b6eebf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try getting the current InValue and metadata.  <a href="class_robot_raconteur_1_1_wire_subscription.html#a20f90535f23b580b2b928891b6b6eebf">More...</a><br /></td></tr>
<tr class="separator:a20f90535f23b580b2b928891b6b6eebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6585b6dc1077f18b04c5fb0941b3e092"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robot_raconteur_1_1_wire_subscription.html#a6585b6dc1077f18b04c5fb0941b3e092">SetOutValueAll</a> (const T &amp;val)</td></tr>
<tr class="memdesc:a6585b6dc1077f18b04c5fb0941b3e092"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the OutValue for all active wire connections.  <a href="class_robot_raconteur_1_1_wire_subscription.html#a6585b6dc1077f18b04c5fb0941b3e092">More...</a><br /></td></tr>
<tr class="separator:a6585b6dc1077f18b04c5fb0941b3e092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a729670c76a8789e8ac78b5de926d9658"><td class="memItemLeft" align="right" valign="top">event_connection&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_robot_raconteur_1_1_wire_subscription.html#a729670c76a8789e8ac78b5de926d9658">AddWireValueChangedListener</a> (boost::function&lt; void(boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_wire_subscription.html">WireSubscription</a>&lt; T &gt; &gt;, const T &amp;, const <a class="el" href="class_robot_raconteur_1_1_time_spec.html">TimeSpec</a> &amp;)&gt; f)</td></tr>
<tr class="memdesc:a729670c76a8789e8ac78b5de926d9658"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a wire value changed event listener function.  <a href="class_robot_raconteur_1_1_wire_subscription.html#a729670c76a8789e8ac78b5de926d9658">More...</a><br /></td></tr>
<tr class="separator:a729670c76a8789e8ac78b5de926d9658"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename T&gt;<br />
class RobotRaconteur::WireSubscription&lt; T &gt;</h3>

<p>Subscription for wire members that aggregates the values from client wire connections. </p>
<p><a class="el" href="class_robot_raconteur_1_1_wire.html" title="wire member type interface">Wire</a> subscriptions are created using the <a class="el" href="class_robot_raconteur_1_1_service_subscription.html#a5fee8d7cf9d8011f01da824911e04a6e" title="Creates a wire subscription.">ServiceSubscription::SubscribeWire()</a> function. This function takes the type of the wire value, the name of the wire member, and an optional service path of the service object that owns the wire member.</p>
<p><a class="el" href="class_robot_raconteur_1_1_wire.html" title="wire member type interface">Wire</a> subscriptions aggregate the InValue from all active wire connections. When a client connects, the wire subscriptions will automatically create wire connections to the wire member specified when the <a class="el" href="class_robot_raconteur_1_1_wire_subscription.html" title="Subscription for wire members that aggregates the values from client wire connections.">WireSubscription</a> was created using <a class="el" href="class_robot_raconteur_1_1_service_subscription.html#a5fee8d7cf9d8011f01da824911e04a6e" title="Creates a wire subscription.">ServiceSubscription::SubscribeWire()</a>. The InValue of all the active wire connections are collected, and the most recent one is used as the current InValue of the wire subscription. The current value, the timespec, and the wire connection can be accessed using <a class="el" href="class_robot_raconteur_1_1_wire_subscription.html#a38d1dbd5da29724419a1aa354d1b4111" title="Get the current InValue and metadata.">GetInValue()</a> or <a class="el" href="class_robot_raconteur_1_1_wire_subscription.html#a20f90535f23b580b2b928891b6b6eebf" title="Try getting the current InValue and metadata.">TryGetInValue()</a>.</p>
<p>The lifespan of the InValue can be configured using SetInValueLifespan(). It is recommended that the lifespan be configured, so that the value will expire if the subscription stops receiving fresh in values.</p>
<p>The wire subscription can also be used to set the OutValue of all active wire connections. This behaves similar to a "reverse broadcaster", sending the same value to all connected services.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The value type used by the wire </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a729670c76a8789e8ac78b5de926d9658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a729670c76a8789e8ac78b5de926d9658">&#9670;&nbsp;</a></span>AddWireValueChangedListener()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">event_connection <a class="el" href="class_robot_raconteur_1_1_wire_subscription.html">RobotRaconteur::WireSubscription</a>&lt; T &gt;::AddWireValueChangedListener </td>
          <td>(</td>
          <td class="paramtype">boost::function&lt; void(boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_wire_subscription.html">WireSubscription</a>&lt; T &gt; &gt;, const T &amp;, const <a class="el" href="class_robot_raconteur_1_1_time_spec.html">TimeSpec</a> &amp;)&gt;&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a wire value changed event listener function. </p>
<p>Add a listener function that is called when the InValue changes. The callback should have the signature: </p><pre class="fragment">void cb(WireSubscriptionPtr&lt;T&gt; wire_connection, const T&amp; val, const TimeSpec&amp; ts)
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>The callback function </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>event_connection The Boost.Signals2 connection </dd></dl>

</div>
</div>
<a id="a38d1dbd5da29724419a1aa354d1b4111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38d1dbd5da29724419a1aa354d1b4111">&#9670;&nbsp;</a></span>GetInValue()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T <a class="el" href="class_robot_raconteur_1_1_wire_subscription.html">RobotRaconteur::WireSubscription</a>&lt; T &gt;::GetInValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_robot_raconteur_1_1_time_spec.html">TimeSpec</a> *&#160;</td>
          <td class="paramname"><em>time</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_wire_connection.html">WireConnection</a>&lt; T &gt; &gt; *&#160;</td>
          <td class="paramname"><em>connection</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current InValue and metadata. </p>
<p>Throws <a class="el" href="class_robot_raconteur_1_1_value_not_set_exception.html" title="Exception thrown if a value has not been set.">ValueNotSetException</a> if no valid value is available</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time</td><td>[out] the LastValueReceivedTime of the InValue </td></tr>
    <tr><td class="paramname">connection</td><td>[out] the wire connection that received the InValue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>T the current InValue </dd></dl>

</div>
</div>
<a id="a6585b6dc1077f18b04c5fb0941b3e092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6585b6dc1077f18b04c5fb0941b3e092">&#9670;&nbsp;</a></span>SetOutValueAll()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_robot_raconteur_1_1_wire_subscription.html">RobotRaconteur::WireSubscription</a>&lt; T &gt;::SetOutValueAll </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the OutValue for all active wire connections. </p>
<p>Behaves like a "reverse broadcaster". Calls <a class="el" href="class_robot_raconteur_1_1_wire_connection.html#ab6352abb9d7ebbe02319ec3fde9b2acc" title="Set the OutValue and transmit to the peer connection.">WireConnection::SetOutValue()</a> for all connected wire connections.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type of the value </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The new OutValue </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a20f90535f23b580b2b928891b6b6eebf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20f90535f23b580b2b928891b6b6eebf">&#9670;&nbsp;</a></span>TryGetInValue()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_robot_raconteur_1_1_wire_subscription.html">RobotRaconteur::WireSubscription</a>&lt; T &gt;::TryGetInValue </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_robot_raconteur_1_1_time_spec.html">TimeSpec</a> *&#160;</td>
          <td class="paramname"><em>time</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename boost::shared_ptr&lt; <a class="el" href="class_robot_raconteur_1_1_wire_connection.html">WireConnection</a>&lt; T &gt; &gt; *&#160;</td>
          <td class="paramname"><em>connection</em> = <code>NULL</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try getting the current InValue and metadata. </p>
<p>Same as <a class="el" href="class_robot_raconteur_1_1_wire_subscription.html#a38d1dbd5da29724419a1aa354d1b4111" title="Get the current InValue and metadata.">GetInValue()</a>, but returns a bool for success or failure instead of throwing an exception.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>[out] the current InValue </td></tr>
    <tr><td class="paramname">time</td><td>[out] the LastValueReceivedTime of the InValue </td></tr>
    <tr><td class="paramname">connection</td><td>[out] the wire connection that received the InValue </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true Getting the InValue was successful </dd>
<dd>
false There is no valid InValue </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>C:/Users/wasonj/Documents/RobotRaconteur2/robotraconteur/RobotRaconteurCore/include/RobotRaconteur/<a class="el" href="_subscription_8h_source.html">Subscription.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
